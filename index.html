<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Chá Revelação - Convite</title>
<meta name="description" content="Convite online para o Chá Revelação — confirmação, agenda, mapa e lista de presentes.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
  :root{
    --brown-dark:#2A251F; --brown:#3D342A;
    --burgundy:#8B4A52; --burgundy-light:#A55D65;
    --label-contrast:#4A3C35; --subtitle-contrast:#5A5A5A;
    --gold:#E6C368; --gold-light:#F2D085;
    --powder:#C7D5E0; --powder-deep:#6F8D98; --sage:#8FA693;
    --serif:'Playfair Display',serif; --sans:'Inter',sans-serif;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html{scroll-behavior:smooth}
  body{font-family:var(--sans); color:var(--brown-dark); background:#fff; line-height:1.6; overflow-x:hidden; min-height:100vh; position:relative}

  /* FUNDO EM DUAS CAMADAS (contém sem cortar + preenchimento borrado) */
  .bg-layer{position:fixed; inset:0; pointer-events:none}
  .bg-fill{z-index:-3; filter:blur(16px) saturate(1.05); transform:scale(1.06); opacity:.55;
    background-repeat:no-repeat; background-position:center center; background-size:cover;
    background-image:url('./img/bg-mobile-1440x2560.jpg');
  }
  .bg-art{z-index:-2; background-repeat:no-repeat; background-position:center bottom; background-size:contain;
    background-image:url('./img/bg-mobile-1440x2560.jpg');
  }
  @supports (background-image: image-set(url("x") 1x)){
    .bg-fill{background-image:image-set(
      url('./img/bg-mobile-1440x2560.webp') type('image/webp') 1x,
      url('./img/bg-mobile-1440x2560.jpg') type('image/jpeg') 1x
    )}
    .bg-art{background-image:image-set(
      url('./img/bg-mobile-1440x2560.webp') type('image/webp') 1x,
      url('./img/bg-mobile-1440x2560.jpg') type('image/jpeg') 1x
    )}
  }
  @media (min-width:900px){
    .bg-fill{background-image:url('./img/bg-desktop-2560x1440.jpg')}
    .bg-art{background-image:url('./img/bg-desktop-2560x1440.jpg'); background-position:center center}
    @supports (background-image: image-set(url("x") 1x)){
      .bg-fill{background-image:image-set(
        url('./img/bg-desktop-2560x1440.webp') type('image/webp') 1x,
        url('./img/bg-desktop-2560x1440.jpg') type('image/jpeg') 1x
      )}
      .bg-art{background-image:image-set(
        url('./img/bg-desktop-2560x1440.webp') type('image/webp') 1x,
        url('./img/bg-desktop-2560x1440.jpg') type('image/jpeg') 1x
      )}
    }
  }

  .bg-anim{position:fixed; inset:0; z-index:-1; pointer-events:none; overflow:hidden}
  .balloon{position:absolute; width:28px; height:36px; border-radius:16px 16px 18px 18px; background:rgba(207,220,228,.35); box-shadow:0 2px 8px rgba(0,0,0,.06)}
  .balloon::after{content:""; position:absolute; left:50%; bottom:-14px; width:1px; height:16px; background:rgba(0,0,0,.12); transform:translateX(-50%)}
  .b1{left:12%; bottom:-10%; animation:floatUp 22s linear infinite}
  .b2{left:28%; bottom:-15%; width:22px;height:30px; animation:floatUp 28s linear infinite 6s}
  .b3{right:14%; bottom:-12%; width:26px;height:34px; animation:floatUp 25s linear infinite 3s}
  @keyframes floatUp{from{transform:translateY(0);opacity:0}10%{opacity:.7}80%{opacity:.7}to{transform:translateY(-120vh) translateX(10vw);opacity:0}}
  .cloud{position:absolute; width:140px; height:60px; background:rgba(255,255,255,.35); border-radius:40px; filter:blur(.5px); animation:drift 80s linear infinite}
  .cloud::before,.cloud::after{content:""; position:absolute; background:inherit; border-radius:inherit}
  .cloud::before{width:90px;height:45px;left:18px;top:-18px}
  .cloud::after{width:70px;height:35px;left:64px;top:-8px}
  .c1{left:-20%; top:12%} .c2{left:-15%; top:34%; animation-duration:95s; opacity:.4}
  @keyframes drift{to{transform:translateX(140%)}}
  .boat{position:absolute; left:6%; bottom:4%; width:0; height:0; border-left:28px solid transparent; border-right:28px solid transparent; border-top:22px solid rgba(255,255,255,.75); transform-origin:50% 100%; animation:bob 5.8s ease-in-out infinite}
  .boat::after{content:""; position:absolute; left:-12px; bottom:20px; width:24px; height:8px; background:rgba(255,255,255,.75)}
  @keyframes bob{0%,100%{transform:translateY(0) rotate(-2deg)}50%{transform:translateY(4px) rotate(2deg)}}
  .plane{position:absolute; right:-12%; top:65%; width:0; height:0; border-style:solid; border-width:10px 0 10px 30px; border-color:transparent transparent transparent rgba(255,255,255,.8); filter:drop-shadow(0 2px 6px rgba(0,0,0,.08)); animation:planeFly 28s linear infinite}
  @keyframes planeFly{0%{transform:translate(0,0) rotate(-10deg)}45%{transform:translate(-60vw,-28vh) rotate(-8deg)}55%{opacity:0}56%{right:-12%; top:70%; opacity:0}60%{opacity:.9}100%{transform:translate(-62vw,-30vh) rotate(-8deg)}}

  .main-container{position:relative; z-index:10}
  .section{min-height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; padding:2rem 1.5rem; opacity:0; transform:translateY(40px); transition:opacity 1s ease, transform 1s ease}
  .section.visible{opacity:1; transform:none}
  .section-content{text-align:center; max-width:420px; width:100%; background:rgba(255,255,255,.86); backdrop-filter:blur(20px); border-radius:24px; padding:2.2rem 2rem; border:1px solid rgba(255,255,255,.4); box-shadow:0 20px 60px rgba(45,37,29,.12), inset 0 1px 0 rgba(255,255,255,.8)}

  .title-main{font-family:var(--serif); font-size:clamp(2.8rem,8vw,4.2rem); font-weight:700; background:linear-gradient(135deg,#8B4A52,#A55D65); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; letter-spacing:-.02em; margin-bottom:1rem; line-height:1.1}
  .title-secondary{font-family:var(--serif); font-size:clamp(1.8rem,6vw,2.4rem); font-weight:600; color:var(--brown); margin-bottom:1.2rem; position:relative}
  .title-secondary::after{content:""; position:absolute; bottom:-8px; left:50%; transform:translateX(-50%); width:60px; height:2px; background:linear-gradient(90deg,transparent,var(--gold),transparent)}
  .subtitle{font-size:1.1rem; color:var(--subtitle-contrast); margin-bottom:2rem; font-weight:400; line-height:1.7}

  .name-display{font-family:var(--serif); font-size:clamp(3.5rem,10vw,5.5rem); font-style:italic; font-weight:400; margin:2.2rem 0; opacity:0; transform:scale(.9); transition:opacity .6s ease, transform .6s ease; background:linear-gradient(135deg,var(--powder),var(--powder-deep),var(--sage)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text}
  .name-display.active{opacity:1; transform:scale(1)}
  .gender-indicator{display:none}

  .details{width:100%; max-width:420px; margin:1.2rem auto 0; background:rgba(255,255,255,.6); border-radius:16px; padding:1.2rem 1.25rem; border:1px solid rgba(255,255,255,.3); display:flex; flex-direction:column; gap:.2rem}
  .row{display:flex; align-items:center; justify-content:space-between; padding:.75rem .25rem; border-bottom:1px dashed rgba(184,168,150,.3)}
  .row:last-child{border-bottom:none}
  .lab{font-size:.9rem; letter-spacing:.08em; text-transform:uppercase; color:var(--label-contrast); font-weight:700}
  .val{font-family:var(--serif); font-size:1.2rem; color:var(--brown); font-weight:500}

  .location-card{background:rgba(255,255,255,.7); border-radius:20px; padding:2rem; margin:1.2rem 0; border:1px solid rgba(255,255,255,.5); box-shadow:0 16px 50px rgba(45,37,29,.1); backdrop-filter:blur(15px)}
  .location-title{font-family:var(--serif); font-size:1.6rem; color:#8B4A52; margin-bottom:.4rem; font-weight:600}
  .address{color:var(--brown); line-height:1.7; font-size:1.05rem}

  /* BOTÕES CIRCULARES lado a lado, sem subtítulos */
  .actions-row{display:grid; grid-template-columns:repeat(3, 1fr); gap:18px; width:100%; max-width:420px; margin:1.2rem auto 0}
  .circle-btn{display:grid; place-items:center; width:88px; height:88px; margin:0 auto; border-radius:50%; background:linear-gradient(135deg,rgba(255,255,255,.95),rgba(255,255,255,.8)); border:2px solid var(--gold-light); color:var(--brown); text-decoration:none; box-shadow:0 8px 24px rgba(45,37,29,.14), inset 0 2px 8px rgba(255,255,255,.8); transition:transform .15s ease, box-shadow .15s ease, border-color .2s ease; backdrop-filter:blur(10px)}
  .circle-btn:hover{transform:translateY(-2px); box-shadow:0 14px 34px rgba(45,37,29,.18); border-color:var(--gold)}
  .circle-btn:active{transform:scale(.95)}
  .circle-btn i{font-size:1.6rem}

  .progress-dots{position:fixed; right:1.5rem; top:50%; transform:translateY(-50%); display:flex; flex-direction:column; gap:1rem; z-index:100}
  .progress-dot{width:10px; height:10px; border-radius:50%; background:rgba(184,168,150,.35); transition:all .4s ease; cursor:pointer; position:relative}
  .progress-dot.active{background:#8B4A52; transform:scale(1.4); box-shadow:0 0 12px rgba(139,74,82,.35)}

  .scroll-hint{position:fixed; left:50%; bottom:18px; transform:translateX(-50%); width:8px; height:8px; border-radius:50%; background:rgba(80,68,60,.45); box-shadow:0 0 0 0 rgba(80,68,60,.28); animation:pulse 2s ease-out infinite; z-index:10}
  @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(80,68,60,.28)}70%{box-shadow:0 0 0 12px rgba(80,68,60,0)}100%{box-shadow:0 0 0 0 rgba(80,68,60,0)}}

  @media (min-width:768px){ .section{padding:3rem 2rem} .section-content{max-width:560px; padding:3rem 2.5rem} .actions-row{max-width:560px} }
  @media (min-width:1024px){ .section-content{max-width:650px} .actions-row{max-width:650px} }
</style>
</head>
<body>
  <!-- Áudio com destravamento robusto -->
  <audio id="bgm" loop preload="auto" playsinline>
    <source src="./audio/trilha.mp3" type="audio/mpeg">
  </audio>

  <div class="bg-layer bg-fill"></div>
  <div class="bg-layer bg-art"></div>

  <div class="bg-anim" aria-hidden="true">
    <div class="balloon b1"></div>
    <div class="balloon b2"></div>
    <div class="balloon b3"></div>
    <div class="cloud c1"></div>
    <div class="cloud c2"></div>
    <div class="boat"></div>
    <div class="plane"></div>
  </div>

  <div class="main-container">
    <section class="section" id="intro">
      <div class="section-content">
        <h1 class="title-main">Chá Revelação</h1>
        <p class="subtitle">Vem descobrir com a gente — leve, do nosso jeito e sem pressa. ✨</p>
        <div class="name-display" id="nameDisplay">Gabriel</div>
        <div class="gender-indicator" id="genderIndicator"></div>
      </div>
    </section>

    <section class="section" id="details">
      <div class="section-content">
        <h2 class="title-secondary">Reserve na agenda</h2>
        <div class="details">
          <div class="row"><span class="lab">Data</span><span class="val">21/09/2025 (Domingo)</span></div>
          <div class="row"><span class="lab">Horário</span><span class="val">15:30</span></div>
          <div class="row"><span class="lab">Traje</span><span class="val">Tons claros</span></div>
        </div>
      </div>
    </section>

    <section class="section" id="location">
      <div class="section-content">
        <h2 class="title-secondary">Local</h2>
        <div class="location-card">
          <h3 class="location-title">Endereço</h3>
          <p class="address">Rua Otávio Antônio Duarte, 299<br>XV de Novembro — Tijucas • SC</p>
        </div>
      </div>
    </section>

    <section class="section" id="confirmation">
      <div class="section-content">
        <h2 class="title-secondary">Confirmação de Presença</h2>
        <div class="actions-row">
          <a class="circle-btn" href="https://wa.me/554899245688?text=Oi!%20Confirmo%20presen%C3%A7a%20no%20Ch%C3%A1%20Revela%C3%A7%C3%A3o." target="_blank" rel="noopener" title="Confirmar presença" aria-label="Confirmar presença">
            <i class="fa-solid fa-calendar-check"></i>
          </a>
          <a class="circle-btn" href="https://maps.app.goo.gl/AK5U1NG3bWXT1neR9" target="_blank" rel="noopener" title="Ver no mapa" aria-label="Ver no mapa">
            <i class="fa-solid fa-map-location-dot"></i>
          </a>
          <a class="circle-btn" href="https://example.com/lista-de-presentes" target="_blank" rel="noopener" title="Lista de presentes" aria-label="Lista de presentes">
            <i class="fa-solid fa-gift"></i>
          </a>
        </div>
      </div>
    </section>
  </div>

  <div class="scroll-hint" aria-hidden="true"></div>

  <div class="progress-dots">
    <div class="progress-dot active" data-target="intro"></div>
    <div class="progress-dot" data-target="details"></div>
    <div class="progress-dot" data-target="location"></div>
    <div class="progress-dot" data-target="confirmation"></div>
  </div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    /* Alterna nomes */
    const names = {
      male:['Gabriel','Miguel','Arthur','Heitor','Bernardo','Theo','Davi','Lorenzo','Nicolas','Samuel'],
      female:['Alice','Sofia','Helena','Valentina','Laura','Isabella','Manuela','Julia','Heloisa','Luiza']
    };
    let gender='male';
    const nameDisplay=document.getElementById('nameDisplay');
    function switchName(){
      nameDisplay.classList.remove('active');
      setTimeout(()=>{
        gender = (gender==='female')?'male':'female';
        const list = names[gender];
        nameDisplay.textContent = list[Math.floor(Math.random()*list.length)];
        nameDisplay.style.background =
          (gender==='male')
          ? 'linear-gradient(135deg, var(--powder), var(--powder-deep), var(--sage))'
          : 'linear-gradient(135deg, var(--burgundy), var(--gold), var(--burgundy-light))';
        nameDisplay.style.webkitBackgroundClip='text';
        nameDisplay.style.webkitTextFillColor='transparent';
        nameDisplay.classList.add('active');
      },300);
    }
    setTimeout(()=>nameDisplay.classList.add('active'),800);
    setInterval(switchName,3000);

    /* Seções + dots */
    const sections=document.querySelectorAll('.section');
    const dots=document.querySelectorAll('.progress-dot');
    const io=new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.add('visible');
          const id=e.target.id;
          dots.forEach(d=>d.classList.toggle('active', d.dataset.target===id));
        }
      })
    },{threshold:.6});
    sections.forEach(s=>io.observe(s));
    dots.forEach(d=>d.addEventListener('click',()=>document.getElementById(d.dataset.target)?.scrollIntoView({behavior:'smooth'})));

    /* ÁUDIO: volume 50%, robusto */
    const bgm=document.getElementById('bgm');
    const TARGET_VOL = 0.5;
    function fadeIn(el, ms=1000, target=TARGET_VOL){
      el.volume = 0;
      const steps=20, step=target/steps, interval=ms/steps;
      const t=setInterval(()=>{ el.volume=Math.min(target, el.volume+step); if(el.volume>=target) clearInterval(t); }, interval);
    }
    let started=false, tries=0;
    function attemptPlay(){
      if(!started) return;
      bgm.muted=false; bgm.volume=0; bgm.load();
      bgm.play().then(()=>fadeIn(bgm,1000,TARGET_VOL)).catch(()=>{
        // retry a few times silently
        if(tries<6){ tries++; setTimeout(attemptPlay, 800); }
      });
    }
    function startAudio(){
      if(started) return; started=true;
      setTimeout(attemptPlay, 1000);
    }
    ['pointerdown','touchstart','click','keydown','scroll','mousemove','mouseenter','visibilitychange'].forEach(ev=>{
      window.addEventListener(ev, startAudio, {passive:true});
    });
  });
</script>
</body>
</html>
